# Web App æ¶æ„è¯´æ˜

## ğŸ“ é¡¹ç›®ç»“æ„

```
web-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs              # åº”ç”¨å…¥å£ç‚¹
â”‚   â”œâ”€â”€ app.rs               # åº”ç”¨æ ¹ç»„ä»¶å’Œé¡µè„š
â”‚   â”œâ”€â”€ router.rs            # è·¯ç”±å®šä¹‰å’Œé…ç½®
â”‚   â”œâ”€â”€ components/          # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â””â”€â”€ nav.rs           # å¯¼èˆªæ ç»„ä»¶
â”‚   â””â”€â”€ pages/               # é¡µé¢ç»„ä»¶
â”‚       â”œâ”€â”€ mod.rs
â”‚       â”œâ”€â”€ home.rs          # é¦–é¡µ
â”‚       â””â”€â”€ about.rs         # å…³äºé¡µé¢
â”œâ”€â”€ styles/                  # Sass æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ main.scss            # ä¸»æ ·å¼å…¥å£
â”‚   â”œâ”€â”€ _variables.scss      # å˜é‡å®šä¹‰
â”‚   â”œâ”€â”€ _mixins.scss         # æ··åˆå®
â”‚   â”œâ”€â”€ _base.scss           # åŸºç¡€æ ·å¼
â”‚   â”œâ”€â”€ _layout.scss         # å¸ƒå±€æ ·å¼
â”‚   â”œâ”€â”€ _navbar.scss         # å¯¼èˆªæ æ ·å¼
â”‚   â”œâ”€â”€ _footer.scss         # é¡µè„šæ ·å¼
â”‚   â”œâ”€â”€ _components.scss     # ç»„ä»¶æ ·å¼
â”‚   â”œâ”€â”€ _home.scss           # é¦–é¡µæ ·å¼
â”‚   â””â”€â”€ _about.scss          # å…³äºé¡µé¢æ ·å¼
â”œâ”€â”€ index.html               # HTML æ¨¡æ¿
â”œâ”€â”€ Cargo.toml               # ä¾èµ–é…ç½®
â”œâ”€â”€ README.md                # é¡¹ç›®è¯´æ˜
â””â”€â”€ ARCHITECTURE.md          # æ¶æ„æ–‡æ¡£ï¼ˆæœ¬æ–‡ä»¶ï¼‰
```

## ğŸ—ï¸ æ¨¡å—èŒè´£

### main.rs - åº”ç”¨å…¥å£
- å¯¼å…¥æ‰€æœ‰æ¨¡å—
- åˆå§‹åŒ– Yew æ¸²æŸ“å™¨
- å¯åŠ¨åº”ç”¨

### app.rs - åº”ç”¨æ ¹ç»„ä»¶
- å®šä¹‰ `App` æ ¹ç»„ä»¶
- é›†æˆè·¯ç”±å™¨ï¼ˆBrowserRouterï¼‰
- å¸ƒå±€ç»“æ„ï¼ˆå¯¼èˆªæ  + å†…å®¹åŒº + é¡µè„šï¼‰
- é¡µè„šç»„ä»¶å®ç°

### router.rs - è·¯ç”±ç³»ç»Ÿ
- å®šä¹‰ `Route` æšä¸¾ï¼ˆæ‰€æœ‰è·¯ç”±è·¯å¾„ï¼‰
- å®ç° `switch` å‡½æ•°ï¼ˆè·¯ç”±åˆ°ç»„ä»¶çš„æ˜ å°„ï¼‰
- 404 é¡µé¢ç»„ä»¶

### components/ - å¯å¤ç”¨ç»„ä»¶
- **nav.rs**: å¯¼èˆªæ ç»„ä»¶
  - å“ç‰Œæ ‡è¯†
  - å¯¼èˆªé“¾æ¥
  - å“åº”å¼èœå•

### pages/ - é¡µé¢ç»„ä»¶
- **home.rs**: é¦–é¡µ
  - Hero åŒºåŸŸ
  - ç‰¹æ€§å±•ç¤º
  - è®¡æ•°å™¨æ¼”ç¤º
  - ç»Ÿè®¡æ•°æ®
  
- **about.rs**: å…³äºé¡µé¢
  - é¡¹ç›®ä»‹ç»
  - æŠ€æœ¯æ ˆ
  - å›¢é˜Ÿä¿¡æ¯
  - è”ç³»æ–¹å¼

## ğŸ”„ æ•°æ®æµ

```
main.rs
  â””â”€> App (app.rs)
       â”œâ”€> BrowserRouter
       â”‚    â”œâ”€> Nav (components/nav.rs)
       â”‚    â”œâ”€> Switch<Route> (router.rs)
       â”‚    â”‚    â”œâ”€> Home (pages/home.rs)
       â”‚    â”‚    â”œâ”€> About (pages/about.rs)
       â”‚    â”‚    â””â”€> NotFound (router.rs)
       â”‚    â””â”€> Footer (app.rs)
```

## ğŸ¨ æ ·å¼æ¶æ„

### å˜é‡ç³»ç»Ÿ (_variables.scss)
- é¢œè‰²ä¸»é¢˜
- é—´è·ç³»ç»Ÿ
- å­—ä½“å¤§å°
- åœ†è§’ã€é˜´å½±
- è¿‡æ¸¡åŠ¨ç”»
- å“åº”å¼æ–­ç‚¹

### æ··åˆå® (_mixins.scss)
- å“åº”å¼æ–­ç‚¹ï¼ˆmobile, tablet, desktopï¼‰
- Flexbox å·¥å…·ï¼ˆflex-center, flex-betweenï¼‰
- å¡ç‰‡æ ·å¼
- æ¸å˜æ–‡å­—
- æ‚¬åœæ•ˆæœ
- æŒ‰é’®åŸºç¡€æ ·å¼
- ç½‘æ ¼å¸ƒå±€

### æ¨¡å—åŒ–æ ·å¼
æ¯ä¸ªç»„ä»¶/é¡µé¢éƒ½æœ‰å¯¹åº”çš„æ ·å¼æ–‡ä»¶ï¼Œé€šè¿‡ `main.scss` ç»Ÿä¸€å¯¼å…¥ã€‚

## ğŸš€ è·¯ç”±é…ç½®

| è·¯å¾„ | ç»„ä»¶ | è¯´æ˜ |
|------|------|------|
| `/` | Home | é¦–é¡µ |
| `/about` | About | å…³äºé¡µé¢ |
| `/404` | NotFound | 404 é”™è¯¯é¡µé¢ |
| å…¶ä»– | NotFound | æœªåŒ¹é…è·¯ç”±é‡å®šå‘åˆ° 404 |

## ğŸ“¦ ä¾èµ–è¯´æ˜

### æ ¸å¿ƒä¾èµ–
- **yew**: Rust å‰ç«¯æ¡†æ¶
- **yew-router**: å®¢æˆ·ç«¯è·¯ç”±
- **wasm-bindgen**: Rust ä¸ JavaScript äº’æ“ä½œ
- **web-sys**: Web API ç»‘å®š
- **gloo**: Web å·¥å…·åº“

## ğŸ”§ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°é¡µé¢

1. **åˆ›å»ºé¡µé¢ç»„ä»¶**
   ```bash
   # åœ¨ src/pages/ åˆ›å»ºæ–°æ–‡ä»¶
   touch src/pages/new_page.rs
   ```

2. **å®ç°é¡µé¢ç»„ä»¶**
   ```rust
   use yew::prelude::*;
   
   #[function_component(NewPage)]
   pub fn new_page() -> Html {
       html! {
           <div class="page new-page">
               <h1>{ "æ–°é¡µé¢" }</h1>
           </div>
       }
   }
   ```

3. **å¯¼å‡ºç»„ä»¶**
   ```rust
   // åœ¨ src/pages/mod.rs ä¸­æ·»åŠ 
   mod new_page;
   pub use new_page::NewPage;
   ```

4. **æ·»åŠ è·¯ç”±**
   ```rust
   // åœ¨ src/router.rs çš„ Route æšä¸¾ä¸­æ·»åŠ 
   #[at("/new")]
   NewPage,
   ```

5. **æ›´æ–°è·¯ç”±åˆ‡æ¢**
   ```rust
   // åœ¨ src/router.rs çš„ switch å‡½æ•°ä¸­æ·»åŠ 
   Route::NewPage => html! { <NewPage /> },
   ```

6. **åˆ›å»ºæ ·å¼æ–‡ä»¶**
   ```bash
   touch styles/_new_page.scss
   ```

7. **å¯¼å…¥æ ·å¼**
   ```scss
   // åœ¨ styles/main.scss ä¸­æ·»åŠ 
   @import 'new_page';
   ```

### æ·»åŠ æ–°ç»„ä»¶

1. åœ¨ `src/components/` åˆ›å»ºç»„ä»¶æ–‡ä»¶
2. åœ¨ `src/components/mod.rs` ä¸­å¯¼å‡º
3. åœ¨éœ€è¦çš„åœ°æ–¹å¯¼å…¥ä½¿ç”¨
4. åœ¨ `styles/_components.scss` ä¸­æ·»åŠ æ ·å¼

## ğŸ¯ æœ€ä½³å®è·µ

### ç»„ä»¶è®¾è®¡
- ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶ï¼ˆ`#[function_component]`ï¼‰
- ä¿æŒç»„ä»¶å•ä¸€èŒè´£
- ä½¿ç”¨ Props ä¼ é€’æ•°æ®
- ä½¿ç”¨ Hooks ç®¡ç†çŠ¶æ€

### æ ·å¼è§„èŒƒ
- ä½¿ç”¨ Sass å˜é‡ä¿æŒä¸€è‡´æ€§
- ä½¿ç”¨æ··åˆå®å‡å°‘é‡å¤ä»£ç 
- éµå¾ª BEM å‘½åè§„èŒƒ
- ç§»åŠ¨ä¼˜å…ˆçš„å“åº”å¼è®¾è®¡

### è·¯ç”±ç®¡ç†
- è·¯ç”±å®šä¹‰é›†ä¸­åœ¨ `router.rs`
- ä½¿ç”¨è¯­ä¹‰åŒ–çš„è·¯ç”±è·¯å¾„
- æä¾›å‹å¥½çš„ 404 é¡µé¢

### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨ `memo` é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
- æ‡’åŠ è½½å¤§å‹ç»„ä»¶
- ä¼˜åŒ– WebAssembly åŒ…å¤§å°

## ğŸ“ å¼€å‘æµç¨‹

1. **å¼€å‘æ¨¡å¼**
   ```bash
   cd web-app
   trunk serve
   ```

2. **æ„å»ºç”Ÿäº§ç‰ˆæœ¬**
   ```bash
   trunk build --release
   ```

3. **æ£€æŸ¥ä»£ç **
   ```bash
   cargo check -p web-app
   cargo clippy -p web-app
   ```

4. **æ ¼å¼åŒ–ä»£ç **
   ```bash
   cargo fmt -p web-app
   ```

## ğŸ” è°ƒè¯•æŠ€å·§

- ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹ WebAssembly
- åœ¨ Rust ä»£ç ä¸­ä½¿ç”¨ `web_sys::console::log_1()` è¾“å‡ºæ—¥å¿—
- ä½¿ç”¨ `trunk serve` çš„çƒ­é‡è½½åŠŸèƒ½å¿«é€Ÿè¿­ä»£
- æ£€æŸ¥ç½‘ç»œè¯·æ±‚å’Œèµ„æºåŠ è½½

## ğŸ“š å‚è€ƒèµ„æº

- [Yew å®˜æ–¹æ–‡æ¡£](https://yew.rs)
- [Yew Router æ–‡æ¡£](https://yew.rs/docs/concepts/router)
- [Trunk æ–‡æ¡£](https://trunkrs.dev)
- [WebAssembly æ–‡æ¡£](https://webassembly.org)
